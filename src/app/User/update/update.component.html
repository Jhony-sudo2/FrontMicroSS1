<div class="min-h-screen bg-gray-100 py-8">
  <form
    #f="ngForm"
    (ngSubmit)="updatePassword()"
    class="mx-auto w-full md:w-2/3 lg:w-1/2 max-w-2xl bg-white p-8 rounded-2xl shadow space-y-6"
  >
    <h2 class="text-2xl font-bold text-center text-gray-800">Actualizar contraseña</h2>

    <!-- Contraseña actual -->
    <div>
      <label class="block text-gray-700 font-semibold mb-1">Contraseña actual</label>
      <input
        type="password"
        name="current"
        [(ngModel)]="current"
        required
        class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-400 outline-none"
      />
      <p class="mt-1 text-xs text-red-600" *ngIf="f.submitted && !current">Requerida.</p>
    </div>

    <!-- Nueva contraseña -->
    <div>
      <label class="block text-gray-700 font-semibold mb-1">Nueva contraseña</label>
      <input
        type="password"
        name="newPassword"
        [(ngModel)]="newPassword"
        required
        minlength="8"
        class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-400 outline-none"
        #newPassCtrl="ngModel"
      />
      <div class="mt-1 text-xs">
        <span class="text-gray-500">Mínimo 8 caracteres.</span>
        <span class="text-red-600" *ngIf="newPassCtrl.invalid && (newPassCtrl.dirty || f.submitted)">
          &nbsp;• La contraseña es demasiado corta.
        </span>
      </div>
    </div>

    <!-- Confirmar nueva contraseña -->
    <div>
      <label class="block text-gray-700 font-semibold mb-1">Confirmar nueva contraseña</label>
      <input
        type="password"
        name="confirm"
        ngModel
        required
        class="w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-400 outline-none"
        #confirmPass="ngModel"
      />
      <div class="mt-1 text-xs">
        <span class="text-red-600" *ngIf="(f.submitted || confirmPass.dirty) && newPassword !== confirmPass.value">
          Las contraseñas no coinciden.
        </span>
      </div>
    </div>

    <!-- Acción -->
    <div class="pt-2 text-center">
      <button
        type="submit"
        [disabled]="f.invalid || newPassword !== confirmPass.value"
        class="bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-blue-700 text-white font-semibold py-2 px-6 rounded-lg transition"
      >
        Actualizar contraseña
      </button>
    </div>
  </form>
</div>
