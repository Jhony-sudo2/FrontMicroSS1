<div class="p-4">
    <h2 class="text-xl font-semibold">Blogs pendientes de aprobación</h2>

    <!-- Empty state -->
    <div *ngIf="!blogs?.length" class="mt-6 rounded-xl border border-dashed p-8 text-center text-sm text-gray-500">
        No hay blogs para mostrar.
    </div>

    <!-- Table -->
    <div *ngIf="blogs?.length" class="mt-4 overflow-x-auto rounded-xl border">
        <table class="min-w-full divide-y divide-gray-200">
            <thead class="bg-gray-50">
                <tr class="text-left text-xs font-medium uppercase tracking-wider text-gray-500">
                    <th class="px-4 py-3">Título</th>
                    <th class="px-4 py-3">Autor</th>
                    <th class="px-4 py-3">Fecha</th>
                    <th class="px-4 py-3">Tipo</th>
                    <th class="px-4 py-3">Estado</th>
                    <th class="px-4 py-3">Posición política</th>
                    <th class="px-4 py-3">Acciones</th>
                </tr>
            </thead>
            <tbody class="divide-y divide-gray-100 bg-white">
                <tr *ngFor="let blog of blogs;">
                    <td class="px-4 py-3">
                        <div class="font-medium text-gray-900"> <a [routerLink]="['/blog/viewDetail', blog.id]"
                            class="font-semibold text-blue-600 hover:underline cursor-pointer"> {{ blog.name }} </a></div>
                       
                    </td>
                    <td class="px-4 py-3">
                        <a [routerLink]="['/blog/myprofile', blog.author.id]"
                            class="font-semibold text-blue-600 hover:underline cursor-pointer">
                            {{ blog.author.name }}
                        </a>
                    </td>
                    <td class="px-4 py-3">
                        {{ blog.date | date:'yyyy-MM-dd HH:mm' }}
                    </td>
                    <td class="px-4 py-3">
                        <span class="rounded-full bg-indigo-50 px-2.5 py-0.5 text-xs font-medium text-indigo-700">
                            {{ blog.type }}
                        </span>
                    </td>
                    <td class="px-4 py-3">
                        <span class="inline-flex items-center gap-1 rounded-full px-2.5 py-0.5 text-xs font-medium"
                            [ngClass]="blog.state
                ? 'bg-emerald-50 text-emerald-700'
                : 'bg-rose-50 text-rose-700'">
                            <span class="h-1.5 w-1.5 rounded-full"
                                [ngClass]="blog.state ? 'bg-emerald-500' : 'bg-rose-500'"></span>
                            {{ blog.state ? 'Activo' : 'Inactivo' }}
                        </span>
                    </td>

                    <!-- Editable: Political Position -->
                    <td class="px-4 py-3">
                        <select [(ngModel)]="blog.politicalPosition" name="political_{{ blog.id || blog.name }}"
                            class="w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm outline-none ring-0 transition focus:border-indigo-400 focus:ring-2 focus:ring-indigo-200">
                            <option *ngFor="let t of politicalPosition" [ngValue]="t">{{ t }}</option>
                        </select>
                    </td>

                    <!-- Acciones -->
                    <td class="px-4 py-3">
                        <div class="flex gap-2">
                            <button type="button" (click)="accept(blog)"
                                class="inline-flex items-center rounded-lg bg-emerald-600 px-3 py-2 text-sm font-medium text-white shadow-sm transition hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-400">
                                Aceptar
                            </button>
                            <button type="button" (click)="reject(blog)"
                                class="inline-flex items-center rounded-lg bg-rose-600 px-3 py-2 text-sm font-medium text-white shadow-sm transition hover:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-rose-400">
                                Rechazar
                            </button>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>